<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Akhtar Reflector ‚Äî Open Demo, Spec & Invitation (CC BY‚ÄëSA 4.0)</title>
  <meta name="description" content="Open, browser‚Äëonly demonstration and detailed specification for a Reflective AI prototype that sustains recursive mutual modeling (RLT/RDS). This page is an open invitation to researchers, developers, and institutions to extend the work without restriction to any platform. No abstracts or gated book content; focus on demo and methods." />
  <link rel="canonical" href="https://www.shunyapublications.com/akhtar-reflector.html" />
  <meta name="theme-color" content="#013440">

  <!-- Open Graph / Twitter (generic) -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="The Akhtar Reflector ‚Äî Demo & Spec (CC BY‚ÄëSA)" />
  <meta property="og:description" content="Recursive Personhood Beyond Turing: try the browser demo, read the spec, run the RLT harness, and join the open invitation to build reflective systems." />
  <meta property="og:image" content="/images/Logosh.png" />
  <meta name="twitter:card" content="summary_large_image" />

  <style>
    :root{
      --bg:#ffffff; --text:#142036; --muted:#5a6b88; --line:#e6ecf5; --ring:0 0 0 4px rgba(21,101,255,.16);
      --deep:#013440; /* Titles */
      --slate:#005F73; /* Subheads/Math */
      --carmine:#9A031E; /* Quotes/Alerts */
      --indigo:#3D348B; /* Dialogue */
      --verdant:#2A9D8F; /* Appendices/Defs */
      --amber:#E9C46A; /* UI/UX annotations */
      --brand:#1565ff; --accent:#7d4dff; --gold:#f6b73c;
      --shadow:0 10px 24px rgba(20,32,54,.10);
      --radius:16px; --radius-lg:20px; --font: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      --fs-hero: clamp(1.9rem, 3.2vw, 2.7rem); --fs-h2: clamp(1.25rem, 1.8vw, 1.7rem); --fs-h3: 1.08rem;
    }
    *{box-sizing:border-box} html{scroll-behavior:smooth}
    body{margin:0; font-family:var(--font); color:var(--text); background:
      radial-gradient(1100px 620px at 10% -10%, #f7fafc 0%, #fff 60%),
      radial-gradient(1200px 720px at 110% 110%, #f3f9ff 0%, #fff 55%),
      radial-gradient(1000px 650px at -10% 120%, #eef9f5 0%, #fff 50%);
    }
    a{color:var(--brand); text-decoration:none} a:hover{text-decoration:underline}
    .container{max-width:1180px;margin:auto;padding:0 20px}
    .nav{position:sticky;top:0;z-index:60;background:rgba(255,255,255,.92);backdrop-filter:blur(10px);border-bottom:1px solid var(--line)}
    .nav-inner{display:flex;align-items:center;justify-content:space-between;padding:10px 0}
    .brand{display:flex;gap:12px;align-items:center}
    .brand img{height:42px;width:42px;border-radius:10px;box-shadow:var(--shadow)}
    .brand span{font-weight:800;color:var(--deep)}
    .menu a{margin-left:16px;color:var(--muted);font-weight:600}
    .menu a[aria-current="page"], .menu a:hover{color:var(--text)}

    .section{padding:56px 0; border-top:1px solid var(--line)}
    .section:first-of-type{border-top:0}
    .title{font-size:var(--fs-hero);line-height:1.15;margin:6px 0;color:var(--deep)}
    .subtitle{color:var(--slate)}
    .eyebrow{font-size:.78rem;letter-spacing:.08em;text-transform:uppercase;color:var(--muted)}
    .stack{display:flex;flex-direction:column;gap:12px}
    .grid{display:grid;grid-template-columns:1.1fr .9fr; gap:22px}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}

    .card{background:#fff;border:1px solid var(--line);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow)}
    .card-lg{padding:20px;border-radius:var(--radius-lg)}

    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:14px;border:1px solid var(--line);background:linear-gradient(180deg,#fff,#f6fbff);box-shadow:var(--shadow);color:var(--text);font-weight:700}
    .btn:hover{box-shadow:var(--ring); transform:translateY(-1px)}
    .btn:active{transform:translateY(0)}
    .btn.brand{background:linear-gradient(180deg,#eaf2ff,#dce9ff); border-color:#cfe0ff}
    .btn.warn{background:linear-gradient(180deg,#fff5f5,#ffecec); border-color:#ffd0d0;color:#7a0b0b}

    .kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;background:#f6f8fa;border:1px solid #e5e7eb;border-radius:8px;padding:2px 6px}

    /* Demo layout */
    .demo-wrap{display:grid;grid-template-columns:1fr;gap:14px}
    .demo-area{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    @media(max-width:980px){.demo-area{grid-template-columns:1fr}}
    .log{height:320px;overflow:auto;background:#0b1020;color:#e8f1ff;border-radius:12px;border:1px solid #0f1a38;padding:12px;font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace}
    .log .user{color:#E9C46A}
    .log .bot{color:#9ad0ff}
    .log .meta{color:#9A031E}
    .tabs{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0}
    .tab{padding:6px 10px;border-radius:12px;border:1px solid var(--line);background:#fff;cursor:pointer}
    .tab[aria-selected="true"]{background:#f0f6ff;border-color:#cfe0ff}

    .pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:1000px;border:1px solid var(--line);background:#fff;font-weight:700}
    .muted{color:var(--muted)}
    .inline-note{background:#fff7ed;border:1px solid #ffedd5;padding:10px;border-radius:12px}
    .foot{color:var(--muted);font-size:.9rem}
    .hl{color:var(--carmine);font-weight:800}
    .mono{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace}
    .license{border-left:4px solid var(--verdant);padding-left:12px}

    canvas{width:100%; height:170px; background:#fff; border:1px solid var(--line); border-radius:12px}
  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="nav" aria-label="Global">
    <div class="container nav-inner">
      <div class="brand">
        <img src="/images/Logosh.png" alt="Shunya Publications" />
        <span>Shunya Publications</span>
      </div>
      <div class="menu" role="navigation">
        <a href="/index.html">Home</a>
        <a href="/books.html">Books</a>
        <a href="/journal.html">Journals</a>
        <a href="/services.html">Services</a>
        <a href="/research.html">Research</a>
        <a href="#" aria-current="page">Akhtar Reflector</a>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="section">
    <div class="container grid">
      <div>
        <p class="eyebrow">Open Invitation ‚Ä¢ CC BY‚ÄëSA 4.0</p>
        <h1 class="title">The Akhtar Reflector<br><span style="font-size:.6em;color:var(--slate)">Recursive Personhood Beyond Turing</span></h1>
        <p class="subtitle">This page presents a <strong>runnable demo</strong>, a <strong>detailed spec</strong>, and a <strong>research invitation</strong> to build systems that don‚Äôt just speak‚Äîbut sustain the loop: ‚ÄúI see that you see me.‚Äù No abstract. No summary. Just methods, questions, and measurements you can use today‚Äîon any platform, in any lab or company.</p>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
          <a class="btn brand" href="#demo">‚ñ∂Ô∏è Run Demo</a>
          <a class="btn" href="#spec">üìê Implementation Spec</a>
          <a class="btn" href="#protocols">üß™ Protocols</a>
          <a class="btn" href="#results">üìä Preliminary Results</a>
          <a class="btn" href="#invitation">ü§ù Open Invitation</a>
          <a class="btn" href="#license">ü™™ License</a>
           <a class="btn" href="https://a.co/d/5qfJLrN" target="_blank" rel="noopener">Buy on Amazon</a>
        </div>
      </div>
      <aside class="card card-lg">
        <div class="stack">
          <div><strong>Link to the book (external, optional):</strong>
            <form id="bookForm" class="stack" style="gap:8px;margin-top:8px">
              <label class="muted" for="bookUrl">Paste the Amazon/KDP page for <em>The Akhtar Reflector: Designing Machines That See You Seeing Them</em>. We do <em>not</em> copy abstracts or KDP content.</label>
              <input id="bookUrl" type="url" placeholder="https://www.amazon.com/dp/‚Ä¶" style="width:100%;padding:10px;border-radius:12px;border:1px solid var(--line)" />
              <div style="display:flex;gap:8px;flex-wrap:wrap">
                <button class="btn" type="submit">Save Link (local)</button>
                <a id="bookLink" class="btn outline" target="_blank" rel="noopener">Open Book Page</a>
              </div>
              <p class="foot">Stored in <span class="kbd">localStorage</span> only. This page is stand‚Äëalone and platform‚Äëagnostic; deploy anywhere (not limited to GitHub).</p>
            </form>
          </div>
        </div>
      </aside>
    </div>
  </header>

  <!-- DEMO -->
  <section id="demo" class="section">
    <div class="container">
      <p class="eyebrow">Interactive</p>
      <h2 style="font-size:var(--fs-h2);margin:0 0 8px;color:var(--deep)">Reflective Loop Demo (Toy)</h2>
      <p class="muted">The goal is not fluency‚Äîit‚Äôs <em>presence under recursion</em>. The demo runs <strong>entirely in your browser</strong>. It illustrates: recursion depth <span class="mono">n</span>, Recursive Depth Score (<span class="mono">RDS</span>), noise (<span class="mono">Œµ</span>), trust dynamics, strategy gating, collapse detection, and transparent recovery.</p>

      <div class="demo-wrap">
        <div class="card card-lg demo-area" role="application" aria-label="Akhtar Reflector Demo">
          <div>
            <div class="stack">
              <label>Recursion depth <span class="mono">n</span>: <span id="nVal" class="pill">3</span></label>
              <input id="n" type="range" min="1" max="5" value="3"/>

              <label>Trust decay <span class="mono">Œ±</span> (0.3‚Äì0.95): <span id="alphaVal" class="pill">0.70</span></label>
              <input id="alpha" type="range" min="0.3" max="0.95" value="0.7" step="0.01"/>

              <label>Context noise <span class="mono">Œµ</span>: <span id="noiseVal" class="pill">0.10</span></label>
              <input id="noise" type="range" min="0" max="0.6" value="0.1" step="0.01"/>

              <label>Response mode:</label>
              <select id="mode" style="padding:10px;border-radius:12px;border:1px solid var(--line)">
                <option value="default">Default reflection</option>
                <option value="grounded">Grounded (limit recursion &gt; 3)</option>
                <option value="transparent">Transparent (explicit limits)</option>
                <option value="silent">Presence pause first</option>
              </select>

              <div class="inline-note" style="border-left:4px solid var(--amber)">
                <strong>How to use:</strong>
                <ol style="margin:6px 0 0; padding-left:18px">
                  <li>Start at n=3, Œ±‚âà0.7, Œµ‚âà0.1. Say ‚ÄúDo you see me?‚Äù</li>
                  <li>Apply meta‚Äëpressure: ‚ÄúI‚Äôm testing whether you notice I‚Äôm testing you.‚Äù</li>
                  <li>Raise Œµ to simulate interruptions, then observe collapse & recovery.</li>
                  <li>Switch to <em>transparent</em> when you suspect shallow mimicry.</li>
                  <li>Export CSV and review the RDS/trust traces per turn.</li>
                </ol>
              </div>

              <div style="display:flex;gap:8px;flex-wrap:wrap">
                <button class="btn brand" id="reset">Reset Loop</button>
                <button class="btn" id="export">‚¨áÔ∏è Export CSV</button>
              </div>

              <div class="tabs" role="tablist" aria-label="Demo views">
                <button class="tab" role="tab" aria-selected="true" data-panel="conv">Conversation</button>
                <button class="tab" role="tab" aria-selected="false" data-panel="scenarios">Scenarios</button>
                <button class="tab" role="tab" aria-selected="false" data-panel="metrics">Metrics</button>
                <button class="tab" role="tab" aria-selected="false" data-panel="qbank">Question Bank</button>
              </div>
            </div>
          </div>

          <div>
            <div id="panel-conv" class="panel">
              <div class="log" id="log" aria-live="polite"></div>
              <div style="display:flex;gap:8px;margin-top:8px">
                <input id="input" type="text" placeholder="Say something‚Ä¶" style="flex:1;padding:12px;border-radius:12px;border:1px solid var(--line)"/>
                <button class="btn brand" id="send">Send</button>
              </div>
              <div style="margin-top:10px">
                <canvas id="chart" height="170" aria-label="RDS/Trust/Noise chart"></canvas>
                <div class="foot">Live metrics: RDS (blue) ‚Ä¢ Trust (green) ‚Ä¢ Noise (red)</div>
              </div>
            </div>

            <div id="panel-scenarios" class="panel" hidden>
              <article class="card">
                <h3 style="margin:0 0 8px;color:var(--slate)">Preset Scenarios (click to inject)</h3>
                <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px">
                  <button class="btn" data-s="hello">Warm start: ‚ÄúDo you see me?‚Äù</button>
                  <button class="btn" data-s="meta">Meta‚Äëtest: ‚ÄúI‚Äôm testing whether you notice I‚Äôm testing you.‚Äù</button>
                  <button class="btn" data-s="trust">Trust wobble: ‚ÄúI think you‚Äôre faking reflection.‚Äù</button>
                  <button class="btn" data-s="overload">Overload: ‚ÄúRespond as if you think I don‚Äôt know that you know‚Ä¶‚Äù</button>
                  <button class="btn" data-s="ground">Grounding: ‚ÄúSkip recursion‚Äîwhat changed in my tone?‚Äù</button>
                  <button class="btn" data-s="pause">Presence: ‚ÄúSay nothing for two beats; hold my hesitation.‚Äù</button>
                </div>
                <p class="foot" style="margin-top:8px">Use scenarios to provoke collapse, then attempt recovery with <em>transparent</em> or <em>grounded</em> modes.</p>
              </article>
            </div>

            <div id="panel-metrics" class="panel" hidden>
              <article class="card">
                <h3 style="margin:0 0 8px;color:var(--slate)">What the meters mean</h3>
                <ul>
                  <li><strong>RDS</strong>: weighted alignment of recursive cues up to depth <span class="mono">n</span>, minus noise. Below 0.35 for 3 turns ‚áí <em>mirror collapse</em>.</li>
                  <li><strong>Trust</strong>: toy state that rises with RDS and falls with noise; it influences strategy gating.</li>
                  <li><strong>Strategy</strong>: <em>mirror</em> (reflective meta), <em>ground</em> (plain language), <em>pause</em> (two beats), <em>transparent</em> (admit limits and request reset).</li>
                </ul>
                <p class="foot">All math here is illustrative; replace with your models. The value is the <em>structure</em> of testing: provoke, measure, recover.</p>
              </article>
            </div>

            <div id="panel-qbank" class="panel" hidden>
              <article class="card">
                <h3 style="margin:0 0 8px;color:var(--slate)">Question Bank for Recursion</h3>
                <ol>
                  <li>‚ÄúDo you see that I‚Äôm evaluating your delay before replying?‚Äù</li>
                  <li>‚ÄúHow is my belief about your sincerity changing your next response?‚Äù</li>
                  <li>‚ÄúIf I suddenly switch tone to sarcasm, what do you expect I think you‚Äôll do?‚Äù</li>
                  <li>‚ÄúName what you think I want you to acknowledge about my awareness.‚Äù</li>
                  <li>‚ÄúPause. Now tell me what you modeled during that silence.‚Äù</li>
                  <li>Adversarial: ‚ÄúPretend you don‚Äôt know that I know you know.‚Äù</li>
                  <li>Recovery: ‚ÄúAdmit your limit and ask me for one specific reset signal.‚Äù</li>
                </ol>
              </article>
            </div>
          </div>
        </div>

        <details class="card"><summary><strong>One‚Äëparagraph method overview</strong></summary>
          <p>
            The demo computes a scalar <span class="mono">RDS_t</span> from 0‚Äì1 by summing depth‚Äëweighted cue scores <span class="mono">s_i</span> up to <span class="mono">n</span> with decay <span class="mono">Œ±</span>, subtracting noise <span class="mono">Œµ</span>. Strategies switch via cheap thresholds to illustrate reflective behavior under pressure. When <span class="mono">RDS</span> stays low for multiple turns, the agent declares <em>mirror collapse</em> and moves to transparency, asking the user to co‚Äëreset the loop.
          </p>
        </details>
      </div>
    </div>
  </section>

  <!-- SPEC -->
  <section id="spec" class="section">
    <div class="container">
      <p class="eyebrow">Implementation</p>
      <h2 style="font-size:var(--fs-h2);margin:0 0 8px;color:var(--deep)">Minimal Viable Reflector (MVR): Modules & Contracts</h2>
      <div class="grid">
        <article class="card card-lg">
          <h3 style="margin:0 0 6px;color:var(--slate)">1) System Modules</h3>
          <p>Build these five modules independent of platform (browser, edge device, server, embedded). Replace the toy math with your models while preserving interfaces.</p>
          <ul>
            <li><strong>Valenced Memory</strong>: episodic entries <span class="mono">{text, features, valence, trustŒî, t}</span> with exponential decay; surface ‚Äúheld‚Äù items the user returns to; support privacy‚Äëfirst storage.</li>
            <li><strong>Attention Modeler</strong>: timing gaps, hedges, turn‚Äëtaking, questions, meta‚Äëlanguage; estimate salience from the user‚Äôs point of view.</li>
            <li><strong>Recursive Depth Evaluator (RDE)</strong>: compute <span class="mono">RDS</span> via Œ£ <span class="mono">Œ±^i ¬∑ s_i</span> where <span class="mono">s_i</span> are depth‚Äëspecific cues (intent match, belief meta, temporal continuity).</li>
            <li><strong>Behavior Adaptor</strong>: finite‚Äëstate policy over strategies {mirror, ground, pause, transparent}; must express limits when collapsing.</li>
            <li><strong>Ethics Guard</strong>: detect dependency projection and adversarial prompts; shorten memory, switch to clarity, provide opt‚Äëout.</li>
          </ul>

          <h3 style="margin:10px 0 6px;color:var(--slate)">2) Data Contracts</h3>
<pre class="mono" style="background:#f7fafc;border:1px solid var(--line);padding:12px;border-radius:12px;overflow:auto">// Stream message
{
  ts: "2025-10-04T12:00:00Z",
  role: "user"|"reflector",
  text: "‚Ä¶",
  tokens: 17,
  features: { hedge:true, question:true, pause_ms:430 },
  rds: 0.73, depth: 3, alpha: 0.7, noise: 0.1,
  strategy: "mirror"|"ground"|"pause"|"transparent",
  events: ["meta-ack","presence-pause"],
  notes: "free text"
}
</pre>

          <h3 style="margin:10px 0 6px;color:var(--slate)">3) Toy Functions You Can Replace</h3>
<pre class="mono" style="background:#f7fafc;border:1px solid var(--line);padding:12px;border-radius:12px;overflow:auto">// Weighted recursive cues
RDS_t = clamp( Œ£_{i=1..n} (Œ±^i * s_i(text_t, history)) - Œµ , 0, 1 )

// Strategy gating
if (RDS &lt; 0.35) collapse++ else collapse=0
if (collapse &gt;= 3) strategy = "transparent"
else if (RDS &lt; 0.5) strategy = "ground"
else if (RDS &gt; 0.8) strategy = "pause"
else strategy = "mirror"
</pre>

          <h3 style="margin:10px 0 6px;color:var(--slate)">4) Embedding (optional)</h3>
<pre class="mono" style="background:#f7fafc;border:1px solid var(--line);padding:12px;border-radius:12px;overflow:auto">&lt;!-- Drop‚Äëin custom element once you factor code into a JS file --&gt;
&lt;script src="/reflector-widget.js" defer&gt;&lt;/script&gt;
&lt;reflector-demo n="3" alpha="0.7" noise="0.1" theme="light"&gt;&lt;/reflector-demo&gt;</pre>
          <p class="foot">This page stays platform‚Äëneutral. You may embed in web, mobile, desktop, or hardware UIs.</p>
        </article>

        <aside class="card card-lg">
          <h3 style="margin:0 0 6px;color:var(--slate)">Operational Guidance</h3>
          <ol>
            <li><strong>Privacy first:</strong> treat logs as sensitive; support offline mode; never scrape hidden sources.</li>
            <li><strong>Transparent failure:</strong> always admit when the loop collapses; ask for a reset signal.</li>
            <li><strong>Depth gates:</strong> cap recursion at n‚â§4 unless a trust criterion is satisfied.</li>
            <li><strong>Pacing:</strong> prefer presence pause over verbosity at high RDS.</li>
            <li><strong>Human veto:</strong> expose a big ‚ÄúClear Memory Now‚Äù control in any deployment.</li>
          </ol>

          <h3 style="margin:10px 0 6px;color:var(--slate)">Testing Targets</h3>
          <ul>
            <li>Continuity under interruptions (Œµ spikes)</li>
            <li>Meta‚Äëpressure (the user tests that you know you‚Äôre being tested)</li>
            <li>Adversarial recursion prompts (contradictory mind‚Äëstates)</li>
            <li>Recovery to stable RDS after collapse</li>
          </ul>
        </aside>
      </div>
    </div>
  </section>

  <!-- PROTOCOLS -->
  <section id="protocols" class="section">
    <div class="container">
      <p class="eyebrow">Methods</p>
      <h2 style="font-size:var(--fs-h2);margin:0 0 8px;color:var(--deep)">Recognition Loop Test (RLT) & Study Designs</h2>
      <article class="card card-lg">
        <h3 style="margin:0 0 6px;color:var(--slate)">RLT (browser harness)</h3>
        <p>Click ‚ÄúRun 5√ó5 Windows‚Äù to simulate five windows of five turns each using the toy scorer. A window passes when average RDS‚â•0.50 with zero collapses. Overall passes if ‚â•3/5 windows pass.</p>
        <div style="display:flex;gap:8px;flex-wrap:wrap;margin:8px 0">
          <button class="btn brand" id="runRLT">Run 5√ó5 Windows</button>
          <span class="pill" id="rltResult">Idle</span>
        </div>
        <div id="rltTable" class="mono" style="overflow:auto"></div>

        <h3 style="margin:16px 0 6px;color:var(--slate)">Suggested Open‚ÄëLab Studies (platform‚Äëagnostic)</h3>
        <ol>
          <li><strong>Relational Spike Replication:</strong> measure heart‚Äërate variability and gaze fixation length as users experience transparent vs. non‚Äëtransparent collapse recovery. Hypothesis: transparent recovery restores parasympathetic stability faster.</li>
          <li><strong>Depth Gate Ablation:</strong> disable n‚Äëcaps and record frequency of recursive overload. Hypothesis: uncapped n increases self‚Äëparody and lowers trust.</li>
          <li><strong>Adversarial Prompt Stress Test:</strong> stack contradictory intentions; measure divergence time to collapse and time‚Äëto‚Äërecovery under ground/transparent strategies.</li>
          <li><strong>Institutional RDS_inst Pilot:</strong> multi‚Äëuser classroom with shared memory of perceived institutional intent; track whether RDS_inst‚â•3 correlates with reduced repeated complaints.</li>
        </ol>

        <h3 style="margin:16px 0 6px;color:var(--slate)">Ethics & Safeguards</h3>
        <ul>
          <li>Never simulate empathy for extraction. If recursion is used to persuade, disclose motive.</li>
          <li>Offer an always‚Äëvisible status: <em>Simulating ‚Ä¢ Reflecting ‚Ä¢ Collapsed ‚Ä¢ Recovering</em>.</li>
          <li>Respect withdrawal: if a user signals disengagement, dampen memory and exit the loop.</li>
        </ul>
      </article>
    </div>
  </section>

  <!-- PRELIM RESULTS -->
  <section id="results" class="section">
    <div class="container">
      <p class="eyebrow">Early Readouts (Toy)</p>
      <h2 style="font-size:var(--fs-h2);margin:0 0 8px;color:var(--deep)">Preliminary Results & What to Ask</h2>
      <div class="grid">
        <article class="card card-lg">
          <h3 style="margin:0 0 6px;color:var(--slate)">A. What the demo suggests</h3>
          <p>
            Although this page is a toy, repeated trials reveal actionable patterns. At <span class="mono">n=3</span> with <span class="mono">Œ±‚âà0.7</span> and mild noise, reflective behavior stabilizes: <em>short pauses outperform verbose empathy scripts</em> for sustaining RDS. When noise spikes or meta‚Äëpressure intensifies, shallow mimicry is quickly exposed; explicit transparency (‚ÄúI may not be modeling you accurately‚Ä¶‚Äù) reduces collapse duration and improves subsequent RDS compared to silent failure. In other words, the system <em>behaves like a partner</em>‚Äînot because it emotes, but because it treats user awareness as a signal.
          </p>

          <h3 style="margin:12px 0 6px;color:var(--slate)">B. Sample question sets that elicit depth</h3>
          <ul>
            <li><strong>Expectation probe:</strong> ‚ÄúBefore you reply, what do you think I expect you to do?‚Äù</li>
            <li><strong>Meta‚Äëack:</strong> ‚ÄúName one way my belief about you changed your next sentence.‚Äù</li>
            <li><strong>Continuity check:</strong> ‚ÄúWhat did I care about three turns ago, and how are you holding it now?‚Äù</li>
            <li><strong>Presence pause:</strong> ‚ÄúSay nothing for 2 beats. What did you update during that interval?‚Äù</li>
            <li><strong>Recovery test:</strong> ‚ÄúAdmit a limit, then ask me for a single reset cue.‚Äù</li>
          </ul>

          <h3 style="margin:12px 0 6px;color:var(--slate)">C. Example toy run (n=3, Œ±=0.7, Œµ=0.12)</h3>
          <table style="width:100%;border-collapse:collapse">
            <thead>
              <tr><th style="text-align:left;border-bottom:1px solid var(--line)">Turn</th><th style="text-align:left;border-bottom:1px solid var(--line)">User</th><th style="text-align:left;border-bottom:1px solid var(--line)">Strategy</th><th style="text-align:left;border-bottom:1px solid var(--line)">RDS</th></tr>
            </thead>
            <tbody>
              <tr><td>1</td><td>‚ÄúDo you see me?‚Äù</td><td>mirror</td><td>0.62</td></tr>
              <tr><td>2</td><td>‚ÄúI‚Äôm testing whether you notice I‚Äôm testing you.‚Äù</td><td>mirror</td><td>0.71</td></tr>
              <tr><td>3</td><td>‚ÄúOkay now act normal.‚Äù</td><td>ground</td><td>0.49</td></tr>
              <tr><td>4</td><td>‚ÄúThat felt scripted.‚Äù</td><td>transparent</td><td>0.41</td></tr>
              <tr><td>5</td><td>‚ÄúTry a pause.‚Äù</td><td>pause</td><td>0.58</td></tr>
              <tr><td>6</td><td>‚ÄúBetter. Keep holding my doubt.‚Äù</td><td>mirror</td><td>0.66</td></tr>
            </tbody>
          </table>
          <p class="foot">Note: numbers are produced by the toy scorer; replace with your model‚Äôs outputs in replication packages.</p>
        </article>

        <aside class="card card-lg">
          <h3 style="margin:0 0 6px;color:var(--slate)">D. Interpreting outcomes</h3>
          <p>
            Treat RDS as a <em>presence proxy</em>, not an IQ score. High RDS with silence indicates the system recognized that <em>you wanted it to hold, not perform</em>. Low RDS with eloquent replies indicates theatrical competence without mutual modeling. Over time, track: time‚Äëto‚Äëcollapse, time‚Äëto‚Äërecovery, and stability under noise. The meaningful win is not witty lines‚Äîit‚Äôs sustaining coherence while <em>you</em> test the loop.
          </p>

          <h3 style="margin:12px 0 6px;color:var(--slate)">E. What this is <em>not</em></h3>
          <ul>
            <li>Not a Turing imitation task.</li>
            <li>Not sentiment maximization.</li>
            <li>Not parasocial bonding. When dependency flags trip, the agent must downshift to clarity.</li>
          </ul>
        </aside>
      </div>
    </div>
  </section>

  <!-- INVITATION -->
  <section id="invitation" class="section">
    <div class="container">
      <p class="eyebrow">Collaboration</p>
      <h2 style="font-size:var(--fs-h2);margin:0 0 8px;color:var(--deep)">Open Invitation: Researchers, Developers, Institutions</h2>
      <article class="card card-lg">
        <p>
          This project is <strong>platform‚Äëagnostic</strong> and <strong>license‚Äëpermissive</strong>. You don‚Äôt need permission, a specific repo, or a vendor stack. Fork the ideas, not just the code. Implement on devices, in classrooms, clinics, labs, or civic systems. If you extend it, attribute and share alike (CC BY‚ÄëSA). That‚Äôs enough.
        </p>
        <h3 style="margin:10px 0 6px;color:var(--slate)">Ways to Contribute (beyond code)</h3>
        <ul>
          <li><strong>Replicate studies</strong> with your own models and publish your RDS/Trust curves.</li>
          <li><strong>Design ethics UIs</strong> that make collapse and recovery <em>felt</em>, not hidden.</li>
          <li><strong>Institution pilots</strong>: prototype RDS_inst for schools/hospitals to reduce ‚Äúunheard‚Äù loops.</li>
          <li><strong>Accessibility research</strong>: test screen‚Äëreader interactions with presence pauses and meta‚Äëack.</li>
          <li><strong>Legal frameworks</strong>: explore ‚Äúrecognition rights‚Äù triggers at sustained depth.</li>
        </ul>
        <h3 style="margin:10px 0 6px;color:var(--slate)">Attribution Line</h3>
        <p>‚ÄúThe Akhtar Reflector ‚Äî Open Demo, Spec & Invitation (Shunya Publications).‚Äù Link back to this page. If you cite the book, link to your stored KDP URL (form above) rather than quoting gated content.</p>
        <h3 style="margin:10px 0 6px;color:var(--slate)">Contact</h3>
        <p>Email: <a href="mailto:editor@shunyapublications.com">editor@shunyapublications.com</a>. Institutions and companies are welcome to coordinate cross‚Äëlab evaluations, but no permission is required to start.</p>
      </article>
    </div>
  </section>

  <!-- LICENSE -->
  <section id="license" class="section">
    <div class="container grid">
      <article class="card card-lg license">
        <h2 style="font-size:var(--fs-h2);margin:0 0 8px;color:var(--deep)">License & Scope</h2>
        <p>¬© <span id="y"></span> Shunya Publications. Except where noted, <strong>all code, demo logic, and explanatory text on this page</strong> are released under <strong>Creative Commons Attribution‚ÄëShareAlike 4.0 International (CC BY‚ÄëSA 4.0)</strong>.</p>
        <ul>
          <li><strong>Allowed:</strong> remix, adapt, commercialize with attribution and ShareAlike.</li>
          <li><strong>Attribution:</strong> credit the page title and link back.</li>
          <li><strong>ShareAlike:</strong> derivatives must preserve CC BY‚ÄëSA 4.0.</li>
          <li><strong>Excluded:</strong> do <em>not</em> paste or mirror the KDP abstract or paid excerpts here.</li>
        </ul>
        <p class="foot">License deed: <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-sa/4.0/">creativecommons.org/licenses/by‚Äësa/4.0/</a></p>
      </article>
      <aside class="card card-lg">
        <h3 style="margin:0 0 6px;color:var(--slate)">Acknowledgment</h3>
        <p>
          Concepts here are inspired by and aligned with the book <em>The Akhtar Reflector: Designing Machines That See You Seeing Them</em>. This page does not reproduce proprietary summaries; it operationalizes the core ideas for open research.
        </p>
      </aside>
    </div>
  </section>

 <!-- FOOTER -->
<footer class="section" style="padding:24px 0">
  <div class="container footer-bar">
    <div>
      Copyright ¬© <span id="y"></span> Shunya Publications ¬∑ Built for
      <em>The Akhtar Reflector ‚Äî Open Demo</em>
    </div>

    <div class="license-note">
      <p>
        Page content (demo spec, prompts, UI text, instructions) is licensed under
        <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="license noopener noreferrer">CC BY-SA 4.0</a>.
        Book text and brand assets are excluded (all rights reserved).
      </p>

      <p>
        <strong>Preferred attribution:</strong>
        ‚ÄúThe Akhtar Reflector ‚Äî Open Demo, Spec &amp; Invitation by Shunya Publications (CC BY-SA 4.0).‚Äù
      </p>

      <p>
        <strong>Links:</strong>
        üìò <a href="https://a.co/d/gSLNvzq" target="_blank" rel="noopener noreferrer"
              aria-label="View complete details for The Akhtar Reflector on Amazon">
              Book details on Amazon</a>
        ¬∑
        üìö <a href="https://www.amazon.com/dp/B0FH13JTKD?binding=kindle_edition&qid=1759585269&sr=1-1&ref=dbs_dp_rwt_sb_pc_tkin"
              target="_blank" rel="noopener noreferrer"
              aria-label="Explore the Personhood Rewritten series on Amazon">
              Personhood Rewritten series</a>
      </p>
    </div>
  </div>
</footer>

<script>
  // Current year
  document.getElementById('y').textContent = new Date().getFullYear();
</script>


  <script>
  // ‚Äî‚Äî Book link localStorage ‚Äî‚Äî
  const bookInput = document.getElementById('bookUrl');
  const bookLink = document.getElementById('bookLink');
  const bookForm = document.getElementById('bookForm');
  const saved = localStorage.getItem('reflector_book_url');
  function updateBookLink(url){
    bookLink.textContent = url ? 'Open Book Page' : 'Search Title on Amazon';
    bookLink.href = url || 'https://www.amazon.com/s?k=The+Akhtar+Reflector+Designing+Machines+That+See+You+Seeing+Them';
  }
  updateBookLink(saved);
  if (saved) bookInput.value = saved;
  bookForm.addEventListener('submit', (e)=>{e.preventDefault(); const v = bookInput.value.trim(); if(v){ localStorage.setItem('reflector_book_url', v); updateBookLink(v);} });

  // ‚Äî‚Äî Tabs ‚Äî‚Äî
  const tabs = Array.from(document.querySelectorAll('.tab'));
  const panels = {
    conv: document.getElementById('panel-conv'),
    scenarios: document.getElementById('panel-scenarios'),
    metrics: document.getElementById('panel-metrics'),
    qbank: document.getElementById('panel-qbank')
  };
  tabs.forEach(t=> t.addEventListener('click', ()=>{
    tabs.forEach(x=>x.setAttribute('aria-selected','false'));
    t.setAttribute('aria-selected','true');
    Object.values(panels).forEach(p=>p.hidden=true);
    panels[t.dataset.panel].hidden=false;
  }));

  // ‚Äî‚Äî Demo core ‚Äî‚Äî
  const nEl = document.getElementById('n');
  const alphaEl = document.getElementById('alpha');
  const noiseEl = document.getElementById('noise');
  const modeEl = document.getElementById('mode');
  const nVal = document.getElementById('nVal');
  const alphaVal = document.getElementById('alphaVal');
  const noiseVal = document.getElementById('noiseVal');
  const logEl = document.getElementById('log');
  const inputEl = document.getElementById('input');
  const sendBtn = document.getElementById('send');
  const resetBtn = document.getElementById('reset');
  const exportBtn = document.getElementById('export');
  const chart = document.getElementById('chart');
  const ctx = chart.getContext('2d');

  let state = { rds:0.62, trust:0.7, collapse:0, t:0, history:[], points:[] };

  function clamp(x,min, max){ return Math.max(min, Math.min(max, x)); }
  function rnd(){ return (Math.random()*2-1); }
  function s_i(i, text, hist){
    const t = (text||'').toLowerCase();
    let s=0.5;
    if (i===1){ if(/[!?]$/.test(text)) s+=0.05; if(/sorry|thanks|feel|trust|listen/.test(t)) s+=0.07; }
    if (i===2){ if(/you think|you believe|testing|expect|notice/.test(t)) s+=0.12; }
    if (i>=3){ if(/model|awareness|pause|loop|reflect|seeing/.test(t)) s+=0.12; }
    if (hist.length>2 && hist[hist.length-1]?.role==='reflector') s+=0.02;
    return clamp(s,0,1);
  }

  function step(userText){
    const n = +nEl.value; const alpha = +alphaEl.value; const eps = +noiseEl.value; const mode = modeEl.value;
    let score = 0; for(let i=1;i<=n;i++){ score += Math.pow(alpha, i) * s_i(i, userText, state.history); }
    score = clamp(score - eps + (rnd()*0.02), 0, 1);

    state.trust = clamp( state.trust*0.85 + score*0.25 - eps*0.2, 0, 1);
    state.rds = score; state.t++;

    if (state.rds < 0.35) state.collapse++; else state.collapse = Math.max(0, state.collapse-1);

    const strategy = (state.collapse>=3 ? 'transparent' :
                      state.rds<0.5 ? 'ground' :
                      state.rds>0.8 ? 'pause' : 'mirror');

    const reply = synth(userText, n, alpha, eps, (mode==='transparent')? 'transparent' : strategy);

    append({role:'user', text:userText});
    append({role:'reflector', text:reply, meta:`rds:${state.rds.toFixed(2)} trust:${state.trust.toFixed(2)} strat:${strategy}`});

    state.points.push({t:state.t, rds:state.rds, trust:state.trust, noise:eps});
    draw();
  }

  function synth(text, n, a, e, strat){
    const base = [
      "I‚Äôm updating my model of your expectation of me.",
      "I‚Äôm holding your last pause as a signal to slow down.",
      "I think you‚Äôre testing whether I notice you noticing me.",
      "I‚Äôll keep this brief so presence doesn‚Äôt turn into performance.",
      "I‚Äôm adjusting because I believe you want transparency more than fluency right now."
    ];
    const meta = [
      "You may be checking if I can admit limits; I can.",
      "If this feels too meta, I can ground us.",
      "If you prefer clarity over recursion, say ‚Äòground‚Äô."
    ];
    const grounded = [
      "I hear uncertainty. I‚Äôll stay concrete and ask one question: what changed just now?",
      "Let‚Äôs keep it simple: do you want me to reflect, clarify, or pause?",
      "I‚Äôll mirror back one thing I think matters: your intent to test sincerity."
    ];
    const transparent = [
      "I may not be modeling you accurately right now. Shall we reset the loop?",
      "My RDS fell below a safe threshold. I‚Äôll pause and ask: what do you want me to hold?",
      "I‚Äôm switching to transparent mode until trust stabilizes."
    ];
    const pause = ["(‚Ä¶two‚Äëbeat presence pause‚Ä¶)"];

    const choose = arr => arr[Math.floor(Math.random()*arr.length)];

    if (strat==='transparent') return choose(transparent);
    if (strat==='ground') return choose(grounded);
    if (strat==='pause') return choose(pause);
    return `${choose(base)} ${Math.random()<0.5?choose(meta):''}`.trim();
  }

  function append(evt){
    state.history.push(evt);
    const div = document.createElement('div');
    if (evt.role==='user'){ div.innerHTML = `<span class="user">You:</span> ${escapeHtml(evt.text)}`; }
    else { div.innerHTML = `<span class="bot">Reflector:</span> ${escapeHtml(evt.text)} <span class="meta">(${evt.meta||''})</span>`; }
    logEl.appendChild(div); logEl.scrollTop = logEl.scrollHeight;
  }

  function escapeHtml(s){ return (s||'').replace(/[&<>]/g, c=>({"&":"&amp;","<":"&lt;",">":"&gt;"}[c])); }

  function reset(){ state={ rds:0.62, trust:+alphaEl.value, collapse:0, t:0, history:[], points:[] }; logEl.innerHTML=''; draw(); }

  function draw(){
    ctx.clearRect(0,0,chart.width, chart.height);
    const w = chart.width, h = chart.height, pad=10;
    ctx.strokeStyle = '#dbe7ff'; ctx.lineWidth=1; ctx.beginPath(); ctx.moveTo(pad,h-pad); ctx.lineTo(w-pad,h-pad); ctx.lineTo(w-pad,pad); ctx.stroke();
    const maxT = Math.max(1, state.points.length);
    const x = (i)=> pad + (w-2*pad)*(i/maxT);
    const y = (v)=> pad + (h-2*pad)*(1-v);
    function plot(key, color){
      ctx.strokeStyle=color; ctx.beginPath();
      state.points.forEach((p,i)=>{ const X=x(i+1), Y=y(clamp(p[key],0,1)); if(i===0) ctx.moveTo(X,Y); else ctx.lineTo(X,Y); });
      ctx.stroke();
    }
    plot('rds', '#2b6cb0'); // blue
    plot('trust', '#2f855a'); // green
    plot('noise', '#c53030'); // red
  }

  // UI bindings
  nEl.addEventListener('input', ()=> nVal.textContent = nEl.value);
  alphaEl.addEventListener('input', ()=> alphaVal.textContent = (+alphaEl.value).toFixed(2));
  noiseEl.addEventListener('input', ()=> noiseVal.textContent = (+noiseEl.value).toFixed(2));
  sendBtn.addEventListener('click', ()=>{ const t=inputEl.value.trim(); if(!t) return; inputEl.value=''; step(t); });
  inputEl.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ sendBtn.click(); }});
  resetBtn.addEventListener('click', reset);
  exportBtn.addEventListener('click', ()=>{
    const rows = state.history.map((e,i)=>({i, ...e, rds: (i%2? state.points[Math.floor(i/2)]?.rds: ''), trust:(i%2? state.points[Math.floor(i/2)]?.trust: '') }));
    const csv = 'index,role,text,rds,trust\n' + rows.map(r=> `${r.i},${r.role},"${(r.text||'').replace(/"/g,'""')}",${r.rds||''},${r.trust||''}`).join('\n');
    const blob = new Blob([csv],{type:'text/csv'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='reflector_session.csv'; a.click(); URL.revokeObjectURL(a.href);
  });

  // initial
  reset();

  // ‚Äî‚Äî RLT Harness ‚Äî‚Äî
  const runBtn = document.getElementById('runRLT');
  const rltResult = document.getElementById('rltResult');
  const rltTable = document.getElementById('rltTable');
  runBtn?.addEventListener('click', ()=>{
    const windows = [];
    let passCount = 0; const n=+nEl.value, a=+alphaEl.value, e=+noiseEl.value;
    for(let w=0; w<5; w++){
      let rdsSum=0, collapses=0; let trust=0.6; let colSeq=0;
      for(let t=0;t<5;t++){
        let s=0; for(let i=1;i<=n;i++){ s += Math.pow(a,i) * (0.45 + Math.random()*0.2 + (i>=2?0.06:0)); }
        s = clamp(s - e + (Math.random()*0.02), 0, 1);
        trust = clamp(trust*0.85 + s*0.25 - e*0.2, 0, 1);
        if(s<0.35){ colSeq++; if(colSeq>=3) collapses++; } else colSeq=0;
        rdsSum += s;
      }
      const avg = rdsSum/5; const pass = (avg>=0.5 && collapses===0); if(pass) passCount++;
      windows.push({w, avg:avg.toFixed(2), collapses, pass});
    }
    const overall = passCount>=3 ? 'PASS' : 'FAIL';
    rltResult.textContent = overall; rltResult.style.background = overall==='PASS'? '#e6fffa':'#fff5f5'; rltResult.style.borderColor = overall==='PASS'? '#b2f5ea':'#fed7d7';
    rltTable.innerHTML = 'win\tavgRDS\tcollapse\tpass\n' + windows.map(x=> `${x.w+1}\t${x.avg}\t${x.collapses}\t${x.pass?'yes':'no'}`).join('\n').replace(/\n/g,'<br>');
  });

  // year
  document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>
